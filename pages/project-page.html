<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="A portfolio website for Spencer Dixon">
<meta name="keywords" content="Design portfolio, web design">
<meta name="author" content="Spencer Dixon">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
<link href="../css/style.css" rel="stylesheet" type="text/css" />
<link href="https://file.myfontastic.com/JEP8YbuLiSnVzhUbXXMb2g/icons.css" rel="stylesheet">

</head>
  <body id="productPage">

    <div class="container-fluid header">
      <span class="icon-x"></span>
      <div class="logo"></div>
    </div>

  <div class="container-fluid content">
  <div class="container ">
    <div class="row">

      <div class="col-0 col-sm-0 col-md-6 project-preview">
        <div class="preview-image"></div>
      </div>

      <div class="col-12 col-sm-8 col-md-6 project-copy">
        <div class="project-title"></div>
        <div class="project-description"></div>
        <a class="col-10 offset-1 offset-sm-0 col-sm-6 previewBtn btn btn-outline-danger btn-lg" target="_blank">View Site</a>
      </div>

    </div>

  </div>


  </div>
  <div class="container-fluid footer">
    <div class="container">
      <h2>more work</h2>
      <div class="row similarProjects">
      </div>
    </div>
  </div>
  </div>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"></script>
  <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
  <script type="text/javascript">



  $.getJSON('http://127.0.0.1:3000/data/projects.json', function(data) {

  //either bind this change to a button press / modal launch or make each of these separate pages and substitute json files.
    var brandName = "lander";


    $(data.project).each(function(index, value){
      if(value[brandName].name == brandName){
        $('.header').css({"background-image":"url('"+value[brandName].header+"')", "background-size": "cover"});
        $('.logo').css({"background-image":"url('"+value[brandName].logo+"')"});
        $('.preview-image').css({"background-image":"url('"+value[brandName].preview+"')", "background-size": "cover", "height":"100%"});
        $('.project-title').append("<h1>"+ value[brandName].name +"</h1>");
        $('.project-description').append("<p>"+ value[brandName].description +"</p>");
        $('.previewBtn').attr("href",value[brandName].liveLink);

        $('.w-item.similarProj1').addClass(value[brandName].similar1)
        $('.w-item.similarProj2').addClass(value[brandName].similar2)
        $('.w-item.similarProj3').addClass(value[brandName].similar3)
        $('.w-item.similarProj4').addClass(value[brandName].similar4)

      } else{ alert('Loading project details failed. Sorry!');}

    });
// needs to be replaced with more sophisticated function that randomly selects 4 values, and saves them to 4 variables.
    $(data.brandList).each(function(index, value){
      var  projectList = Object.values(data.brandList);
      similarProject1 = projectList[Math.floor(Math.random() * projectList.length)];
      similarProject2 = projectList[Math.floor(Math.random() * projectList.length)];
      similarProject3 = projectList[Math.floor(Math.random() * projectList.length)];
      similarProject4 = projectList[Math.floor(Math.random() * projectList.length)];

      $('.similarProjects').append('<div class="col-6 col-sm-3"><div class="w-item '+similarProject1+'"></div></div>');

      if(similarProject2 != similarProject1){
        $('.similarProjects').append('<div class="col-6 col-sm-3"><div class="w-item '+similarProject2+'"></div></div>');
      }else if(similarProject3 != similarProject1 && similarProject3 != similarProject2){
        $('.similarProjects').append('<div class="col-6 col-sm-3"><div class="w-item '+similarProject3+'"></div></div>');
      }else if(similarProject4 != similarProject1 && similarProject4 != similarProject2 && similarProject4 != similarProject3){
        $('.similarProjects').append('<div class="col-6 col-sm-3"><div class="w-item '+similarProject4+'"></div></div>');
      }else{

      }





      console.log(projectList);
      console.log(similarProject1 +""+similarProject2 +""+similarProject3 +""+similarProject4);

    });

  });



  </script>


  </body>
</html>
